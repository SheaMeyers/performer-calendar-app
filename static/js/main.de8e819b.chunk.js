(this["webpackJsonpperformer-calendar-app"]=this["webpackJsonpperformer-calendar-app"]||[]).push([[0],{132:function(e,t,r){},133:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(9),s=r.n(c),o=(r(99),r(18)),i=r(80),l=r(30),d=r(13),u=r(36),b=r(66),j=r(81),f={key:"root",storage:r.n(j).a},m={allPerformers:[],selectedPerformers:[],events:[]},h=Object(b.a)(f,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SELECTED_PERFORMER":return Object(d.a)(Object(d.a)({},e),{},{selectedPerformers:[].concat(Object(l.a)(e.selectedPerformers),[t.payload])});case"REMOVE_SELECTED_PERFORMER":return Object(d.a)(Object(d.a)({},e),{},{selectedPerformers:e.selectedPerformers.filter((function(e){return e.name!==t.payload}))});case"ADD_PERFORMERS":return Object(d.a)(Object(d.a)({},e),{},{selectedPerformers:[].concat(Object(l.a)(e.selectedPerformers),Object(l.a)(t.payload)),allPerformers:[].concat(Object(l.a)(e.allPerformers),Object(l.a)(t.payload))});case"REMOVE_PERFORMER":return Object(d.a)(Object(d.a)({},e),{},{selectedPerformers:e.selectedPerformers.filter((function(e){return e.name!==t.payload})),allPerformers:e.allPerformers.filter((function(e){return e.name!==t.payload}))});case"ADD_EVENTS":return Object(d.a)(Object(d.a)({},e),{},{events:[].concat(Object(l.a)(e.events),Object(l.a)(t.payload))});case"REMOVE_EVENTS":return Object(d.a)(Object(d.a)({},e),{},{events:e.events.filter((function(e){return e.title!==t.payload}))});default:return e}})),O=Object(u.b)(h),p=Object(b.b)(O),x=r(53),g=r(157),v=r(167),y=r(159),E=r(160),k=r(161),R=r(3),w=Object(g.a)((function(e){return Object(v.a)({headerBar:{backgroundColor:"#ffffff",marginBottom:"1rem"},headerBarToolbar:Object(x.a)({},"@media (max-width:450px)",{flexDirection:"column",alignItems:"flex-start"}),headerBarTitle:{color:"#000000",fontSize:"1.5rem"},headerBarSubTitle:{color:"#000000",fontSize:"1rem"},headerBarTextDiv:{flexGrow:1,display:"flex"},ticketmasterImage:{height:"45px",marginLeft:"5px"},extraInfoText:{color:"#000000",fontSize:"1rem"}})})),N=function(){var e=w();return Object(R.jsx)(y.a,{position:"static",className:e.headerBar,children:Object(R.jsxs)(E.a,{className:e.headerBarToolbar,children:[Object(R.jsxs)("div",{className:e.headerBarTextDiv,children:[Object(R.jsxs)("div",{children:[Object(R.jsx)(k.a,{className:e.headerBarTitle,variant:"h1",children:"Ticketmaster Calendar"}),Object(R.jsx)(k.a,{className:e.headerBarSubTitle,variant:"h2",children:"Independently operated.  Powered by"})]}),Object(R.jsx)("a",{href:"https://ticketmaster.com/?ticketmastercalendardotcom=true",target:"_blank",rel:"noopener noreferrer",children:Object(R.jsx)("img",{src:"./TicketmasterLogo.png",className:e.ticketmasterImage,alt:"Ticketmaster Calendar"})})]}),Object(R.jsxs)(k.a,{className:e.extraInfoText,variant:"h2",children:["Questions?  ",Object(R.jsx)("br",{}),Object(R.jsx)("a",{href:"https://github.com/SheaMeyers/performer-calendar-app",target:"_blank",rel:"noopener noreferrer",children:"see the code"})]})]})})},P=r(162),T=r(163),C=r(90),D=r(21),S=r.n(D),_=r(39),F=r(59),M=r(164),B=r(166),I=r(83),V=r.n(I),A=r(82),L=r.n(A),G=function(){var e=Object(_.a)(S.a.mark((function e(t,r){var a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],e.next=3,L.a.get("".concat("https://app.ticketmaster.com/discovery/v2/","events.json?keyword=").concat(t,"&apikey=").concat("OIcjO8xAGvyfG7rv47wVPnh5O3IdCO4G"));case 3:return e.sent.data._embedded.events.forEach((function(e){try{a.push({id:e.id,title:t,start:e.dates.start.dateTime,end:e.dates.start.dateTime.split("T")[0]+"T23:59:59",hexColor:r,url:e.url,location:e._embedded.venues[0].city.name+", "+e._embedded.venues[0].country.name})}catch(n){}})),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),z=Object(g.a)((function(e){return Object(v.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10}})})),H=function(){var e=z(),t=Object(o.b)(),r=Object(a.useState)(""),n=Object(F.a)(r,2),c=n[0],s=n[1],i=function(){var e=Object(_.a)(S.a.mark((function e(){var r,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return");case 2:return r="#".concat(Math.floor(16777215*Math.random()).toString(16)),e.next=5,G(c,r);case 5:a=e.sent,t({type:"ADD_PERFORMERS",payload:[{hexColor:r,id:r,name:c,showCheckbox:!0}]}),t({type:"ADD_EVENTS",payload:a});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(R.jsxs)(C.a,{className:e.root,children:[Object(R.jsx)(B.a,{onChange:function(e){return s(e.target.value)},value:c,className:e.input,placeholder:"Search Performers",inputProps:{"aria-label":"Search performers"},onKeyDown:function(){var e=Object(_.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"!==t.code){e.next=3;break}return e.next=3,i();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(R.jsx)(M.a,{type:"submit",className:e.iconButton,"aria-label":"search",onClick:Object(_.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),children:Object(R.jsx)(V.a,{})})]})},J=r(84),K=r.n(J),Q=r(165),X=Object(g.a)((function(e){return Object(v.a)({paper:{display:"flex",alignItems:"center",margin:"1rem 0",padding:"0 1rem"},name:{flexGrow:1},icon:{color:"red",cursor:"pointer"}})})),q=function(e){var t=Object(a.useState)(!0),r=Object(F.a)(t,2),n=r[0],c=r[1],s=X(),i=Object(o.b)();return Object(R.jsxs)(C.a,{className:s.paper,children:[e.showCheckbox&&Object(R.jsx)(Q.a,{checked:n,onChange:function(t){c(t.target.checked),t.target.checked?i({type:"ADD_SELECTED_PERFORMER",payload:e}):i({type:"REMOVE_SELECTED_PERFORMER",payload:e.name})},style:{color:"".concat(e.hexColor)}}),Object(R.jsx)("p",{className:s.name,children:e.name}),Object(R.jsx)(K.a,{className:s.icon,onClick:function(t){i({type:"REMOVE_PERFORMER",payload:e.name}),i({type:"REMOVE_EVENTS",payload:e.name})}})]})},U=Object(g.a)((function(e){return Object(v.a)({paper:{padding:"1rem",background:"lightgrey"}})})),W=function(e){var t=U(),r=Object(o.c)((function(e){return e.allPerformers}));return Object(R.jsxs)(C.a,{className:t.paper,children:[Object(R.jsx)(H,{}),r.map((function(t){return Object(R.jsx)(q,{id:t.id,name:t.name,hexColor:t.hexColor,showCheckbox:e.showCheckbox},t.name)}))]})},Y=r(65),Z=r(88),$=r.n(Z),ee=(r(131),r(61)),te=r(56),re=r(31),ae=r(47),ne="PREV",ce="NEXT",se=r(1);var oe=function(e,t,r,a){var n=se.p(a.start(e),"day"),c=a.end(e),s=se.i(n,r,"day"),o=se.c(n,c,"minutes")?se.e(c,t,"minutes"):se.d(c,t,"minutes");return s&&o},ie=function(e){var t=e.selected,r=e.getters,c=e.accessors,s=e.localizer,o=e.components,i=e.length,l=e.date,u=e.events,b=Object(a.useRef)(null),j=Object(a.useRef)(null),f=Object(a.useRef)(null),m=Object(a.useRef)(null),h=Object(a.useRef)(null);Object(a.useEffect)((function(){return p()}));var O=function(e,t){var r="",a=o.time,n=s.messages.allDay,i=c.end(t),l=c.start(t);return c.allDay(t)||(se.c(l,i)?n=s.format(l,"agendaTimeFormat"):se.c(l,i,"day")?n=s.format({start:l,end:i},"agendaTimeRangeFormat"):se.c(e,l,"day")?n=s.format(l,"agendaTimeFormat"):se.c(e,i,"day")&&(n=s.format(i,"agendaTimeFormat"))),se.d(e,l,"day")&&(r="rbc-continues-prior"),se.h(e,i,"day")&&(r+=" rbc-continues-after"),Object(R.jsx)("span",{className:r.trim(),children:a?Object(R.jsx)(a,{event:t,day:e,label:n}):n})},p=function(){if(h.current&&h.current.firstChild&&m.current&&j.current&&f.current&&b.current){var e=b.current,t=h.current.firstChild,r=m.current.scrollHeight>m.current.clientHeight,a=[],n=a;a=[Object(re.a)(t.children[0]),Object(re.a)(t.children[1])],n[0]===a[0]&&n[1]===a[1]||(j.current.style.width=a[0]+"px",f.current.style.width=a[1]+"px"),r?(Object(ee.a)(e,"rbc-header-overflowing"),e.style.marginRight=Object(ae.a)()+"px"):Object(te.a)(e,"rbc-header-overflowing")}},x=s.messages,g=se.a(l,i,"day"),v=function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",a=e,n=[];se.i(a,t,r);)n.push(a),a=se.a(a,1,r);return n}(l,g,"day");return(u=u.filter((function(e){return oe(e,l,g,c)}))).sort((function(e,t){return+c.start(e)-+c.start(t)})),Object(R.jsx)("div",{className:"rbc-agenda-view",children:0!==u.length?Object(R.jsxs)(n.a.Fragment,{children:[Object(R.jsx)("table",{ref:b,className:"rbc-agenda-table",children:Object(R.jsx)("thead",{children:Object(R.jsxs)("tr",{children:[Object(R.jsx)("th",{className:"rbc-header",ref:j,children:x.date}),Object(R.jsx)("th",{className:"rbc-header",ref:f,children:x.time}),Object(R.jsx)("th",{className:"rbc-header",children:x.event}),Object(R.jsx)("th",{className:"rbc-header",children:"Location"})]})})}),Object(R.jsx)("div",{className:"rbc-agenda-content",ref:m,children:Object(R.jsx)("table",{className:"rbc-agenda-table",children:Object(R.jsx)("tbody",{ref:h,children:v.map((function(e,a){return function(e,a,n){var i=o.event,l=o.date;return(a=a.filter((function(t){return oe(t,se.p(e,"day"),se.b(e,"day"),c)}))).map((function(o,u){var b=c.title(o),j=c.end(o),f=c.start(o),m=r.eventProp(o,f,j,function(e,t){return!(!e||null==t)&&-1!==t.indexOf(e)}(o,t)),h=0===u&&s.format(e,"agendaDateFormat"),p=0===u&&Object(R.jsx)("td",{rowSpan:a.length,className:"rbc-agenda-date-cell",children:l?Object(R.jsx)(l,{day:e,label:h}):h});return Object(R.jsxs)("tr",{className:m.className,style:Object(d.a)(Object(d.a)({},m.style),{},{cursor:"pointer"}),onClick:function(){return window.open(o.url,"_blank")},children:[p,Object(R.jsx)("td",{className:"rbc-agenda-time-cell",children:O(e,o)}),Object(R.jsx)("td",{className:"rbc-agenda-event-cell",children:i?Object(R.jsx)(i,{event:o,title:b}):b}),Object(R.jsx)("td",{children:o.location})]},n+"_"+u)}),[])}(e,u,a)}))})})})]}):Object(R.jsx)("span",{className:"rbc-agenda-empty",children:x.noEventsInRange})})};ie.range=function(e,t){var r=t.length,a=void 0===r?30:r;return{start:e,end:se.a(e,a,"day")}},ie.navigate=function(e,t,r){var a=r.length,n=void 0===a?30:a;switch(t){case ne:return se.a(e,-n,"day");case ce:return se.a(e,n,"day");default:return e}},ie.title=function(e,t){return"Agenda"};var le=ie,de=Object(g.a)((function(e){return Object(v.a)({card:{margin:"1rem"}})})),ue=function(){var e=Object(o.c)((function(e){return e.events})),t=Object(o.c)((function(e){return e.selectedPerformers})).map((function(e){return e.name})),r=de();return Object(R.jsx)(P.a,{className:r.card,children:Object(R.jsx)(T.a,{children:Object(R.jsx)(Y.a,{localizer:Object(Y.b)($.a),events:e.filter((function(e){return t.includes(e.title)})).map((function(e){return Object(d.a)(Object(d.a)({},e),{},{start:new Date(e.start),end:new Date(e.end)})})),startAccessor:"start",endAccessor:"end",style:{height:500},tooltipAccessor:function(e){return e.tooltip||e.title},eventPropGetter:function(e){return{style:{backgroundColor:e.hexColor,opacity:.8,color:"black",border:e.border}}},onSelectEvent:function(e,t){window.open(e.url,"_blank","noopener")},views:{week:!0,month:!0,day:!0,agenda:le}})})})},be=(r(132),Object(g.a)((function(e){return Object(v.a)({card:{margin:"1rem"}})}))),je=function(){var e=be();return Object(R.jsxs)("div",{className:"Home",children:[Object(R.jsx)(P.a,{className:e.card,children:Object(R.jsxs)(T.a,{children:[Object(R.jsx)("h2",{children:"Performers"}),Object(R.jsx)(W,{showCheckbox:!0})]})}),Object(R.jsx)(ue,{})]})},fe=function(){return Object(R.jsx)(o.a,{store:O,children:Object(R.jsxs)(i.a,{loading:null,persistor:p,children:[Object(R.jsx)(N,{}),Object(R.jsx)(je,{})]})})},me=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,169)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),a(e),n(e),c(e),s(e)}))};s.a.render(Object(R.jsx)(n.a.StrictMode,{children:Object(R.jsx)(fe,{})}),document.getElementById("root")),me()},99:function(e,t,r){}},[[133,1,2]]]);
//# sourceMappingURL=main.de8e819b.chunk.js.map