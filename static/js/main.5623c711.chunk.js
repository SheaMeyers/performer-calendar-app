(this["webpackJsonpperformer-calendar-app"]=this["webpackJsonpperformer-calendar-app"]||[]).push([[0],{127:function(e,t,r){},128:function(e,t,r){},133:function(e,t,r){},134:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(8),o=r.n(c),s=(r(92),r(18)),l=r(73),i=r(26),d=r(14),j=r(29),u=r(56),b=r(74),O={key:"root",storage:r.n(b).a},f={allPerformers:[],selectedPerformers:[],events:[]},m=Object(u.a)(O,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SELECTED_PERFORMER":return Object(d.a)(Object(d.a)({},e),{},{selectedPerformers:[].concat(Object(i.a)(e.selectedPerformers),[t.payload])});case"REMOVE_SELECTED_PERFORMER":return Object(d.a)(Object(d.a)({},e),{},{selectedPerformers:e.selectedPerformers.filter((function(e){return e.name!==t.payload}))});case"ADD_PERFORMERS":return Object(d.a)(Object(d.a)({},e),{},{selectedPerformers:[].concat(Object(i.a)(e.selectedPerformers),Object(i.a)(t.payload)),allPerformers:[].concat(Object(i.a)(e.allPerformers),Object(i.a)(t.payload))});case"REMOVE_PERFORMER":return Object(d.a)(Object(d.a)({},e),{},{selectedPerformers:e.selectedPerformers.filter((function(e){return e.name!==t.payload})),allPerformers:e.allPerformers.filter((function(e){return e.name!==t.payload}))});case"ADD_EVENTS":return Object(d.a)(Object(d.a)({},e),{},{events:[].concat(Object(i.a)(e.events),Object(i.a)(t.payload))});case"REMOVE_EVENTS":return Object(d.a)(Object(d.a)({},e),{},{events:e.events.filter((function(e){return e.title!==t.payload}))});default:return e}})),p=Object(j.b)(m),h=Object(u.b)(p),x=r(42),g=r(158),E=r(169),y=r(160),v=r(161),C=r(162),P=r(3),S=Object(g.a)((function(e){return Object(E.a)({headerBar:{backgroundColor:"#ffffff",marginBottom:"1rem"},headerBarToolbar:Object(x.a)({},"@media (max-width:450px)",{flexDirection:"column",alignItems:"flex-start"}),headerBarTitle:{color:"#000000",fontSize:"1.5rem"},headerBarSubTitle:{color:"#000000",fontSize:"1rem"},headerBarTextDiv:{flexGrow:1,display:"flex"},seatGeekImage:{height:"45px",marginLeft:"5px"},extraInfoText:{color:"#000000",fontSize:"1rem"}})})),k=function(){var e=S();return Object(P.jsx)(y.a,{position:"static",className:e.headerBar,children:Object(P.jsxs)(v.a,{className:e.headerBarToolbar,children:[Object(P.jsxs)("div",{className:e.headerBarTextDiv,children:[Object(P.jsxs)("div",{children:[Object(P.jsx)(C.a,{className:e.headerBarTitle,variant:"h1",children:"Seat Geek Calendar"}),Object(P.jsx)(C.a,{className:e.headerBarSubTitle,variant:"h2",children:"Independently operated.  Powered by"})]}),Object(P.jsx)("a",{href:"https://seatgeek.com/?seatgeekcalendardotcom=true",target:"_blank",rel:"noopener noreferrer",children:Object(P.jsx)("img",{src:"./SeatGeekLogo.png",className:e.seatGeekImage,alt:"Seat Geek Calendar"})})]}),Object(P.jsxs)(C.a,{className:e.extraInfoText,variant:"h2",children:["Questions?  ",Object(P.jsx)("br",{}),Object(P.jsx)("a",{href:"mailto:seatgeekcalendar@gmail.com",children:"Send an email "}),"or",Object(P.jsx)("a",{href:"https://github.com/SheaMeyers/performer-calendar-app",target:"_blank",rel:"noopener noreferrer",children:" see the code"})]})]})})},R=r(165),M=r(166),N=r(81),D=r(25),T=r(164),_=r(168),w=r(75),B=r.n(w),F=r(53),I=r.n(F),A=r(54),L=r.n(A),V=r(163),G="https://api.seatgeek.com/2/",q="MjE5Mjg3MTN8MTYyMTA3ODMzNC40NDc3NDI1",z=(r(127),r(128),Object(g.a)((function(e){return Object(E.a)({paper:{display:"flex",alignItems:"center",margin:"1rem 0",padding:"0 1rem",cursor:"pointer"}})}))),J=function(e){var t=Object(a.useState)(null),r=Object(D.a)(t,2),n=r[0],c=r[1],o=Object(a.useState)(""),l=Object(D.a)(o,2),i=l[0],d=l[1],j=Object(s.b)(),u=z();return Object(a.useEffect)((function(){I.a.setAppElement("body"),e.query&&e.isOpen&&L.a.get("".concat(G,"performers?q=").concat(e.query,"&client_id=").concat(q)).then((function(e){return c(e.data.performers.map((function(e){return{id:e.id,name:e.name,hexColor:"#".concat(Math.floor(16777215*Math.random()).toString(16)),showCheckbox:!0}})))})).catch((function(e){return c([])}))}),[e.isOpen]),Object(P.jsxs)(I.a,{isOpen:e.isOpen,contentLabel:"Display search results modal",closeTimeoutMS:200,className:"modal search-performers-results-modal",children:[Object(P.jsx)("h2",{children:"Performers"}),""===e.query&&Object(P.jsx)("p",{children:"No value entered"}),null===n&&""!==e.query&&Object(P.jsx)("p",{children:"Searching..."}),n===[]&&Object(P.jsx)("p",{children:"No results found"}),i&&Object(P.jsx)("p",{children:i}),n&&n.map((function(t){return Object(P.jsx)(N.a,{className:u.paper,onClick:function(r){d("Getting events for ".concat(t.name,". Please wait.")),L.a.get("".concat(G,"events?performers.id=").concat(t.id,"&client_id=").concat(q)).then((function(r){var a=r.data.events.map((function(e){return{id:e.id,title:t.name,start:e.datetime_local,end:e.datetime_local.split("T")[0]+"T23:59:59",hexColor:t.hexColor,url:e.url}}));j({type:"ADD_PERFORMERS",payload:[t]}),j({type:"ADD_EVENTS",payload:a}),e.handleModalClose(),c(null),d("")})).catch((function(t){e.handleModalClose(),c(null),d("")}))},children:Object(P.jsx)("p",{children:t.name})},t.id)})),Object(P.jsx)(V.a,{variant:"contained",onClick:function(t){e.handleModalClose(),c(null)},children:"Close"})]})},H=Object(g.a)((function(e){return Object(E.a)({root:{padding:"2px 4px",display:"flex",alignItems:"center"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10}})})),K=function(){var e=H(),t=Object(a.useState)(""),r=Object(D.a)(t,2),n=r[0],c=r[1],o=Object(a.useState)(!1),s=Object(D.a)(o,2),l=s[0],i=s[1];return Object(P.jsxs)(N.a,{className:e.root,children:[Object(P.jsx)(_.a,{onChange:function(e){return c(e.target.value)},value:n,className:e.input,placeholder:"Search Performers",inputProps:{"aria-label":"Search performers"},onKeyDown:function(e){"Enter"===e.code&&i(!0)}}),Object(P.jsx)(T.a,{type:"submit",className:e.iconButton,"aria-label":"search",onClick:function(e){return i(!0)},children:Object(P.jsx)(B.a,{})}),Object(P.jsx)(J,{query:n,isOpen:l,handleModalClose:function(){c(""),i(!1)}})]})},Q=r(76),Y=r.n(Q),U=r(167),W=Object(g.a)((function(e){return Object(E.a)({paper:{display:"flex",alignItems:"center",margin:"1rem 0",padding:"0 1rem"},name:{flexGrow:1},icon:{color:"red",cursor:"pointer"}})})),X=function(e){var t=Object(a.useState)(!0),r=Object(D.a)(t,2),n=r[0],c=r[1],o=W(),l=Object(s.b)();return Object(P.jsxs)(N.a,{className:o.paper,children:[e.showCheckbox&&Object(P.jsx)(U.a,{checked:n,onChange:function(t){c(t.target.checked),t.target.checked?l({type:"ADD_SELECTED_PERFORMER",payload:e}):l({type:"REMOVE_SELECTED_PERFORMER",payload:e.name})},style:{color:"".concat(e.hexColor)}}),Object(P.jsx)("p",{className:o.name,children:e.name}),Object(P.jsx)(Y.a,{className:o.icon,onClick:function(t){l({type:"REMOVE_PERFORMER",payload:e.name}),l({type:"REMOVE_EVENTS",payload:e.name})}})]})},Z=Object(g.a)((function(e){return Object(E.a)({paper:{padding:"1rem",background:"lightgrey"}})})),$=function(e){var t=Z(),r=Object(s.c)((function(e){return e.allPerformers}));return Object(P.jsxs)(N.a,{className:t.paper,children:[Object(P.jsx)(K,{}),r.map((function(t){return Object(P.jsx)(X,{id:t.id,name:t.name,hexColor:t.hexColor,showCheckbox:e.showCheckbox},t.name)}))]})},ee=r(55),te=r(79),re=r.n(te),ae=(r(132),Object(g.a)((function(e){return Object(E.a)({card:{margin:"1rem"}})}))),ne=function(){var e=Object(s.c)((function(e){return e.events})),t=Object(s.c)((function(e){return e.selectedPerformers})).map((function(e){return e.name})),r=ae();return Object(P.jsx)(R.a,{className:r.card,children:Object(P.jsx)(M.a,{children:Object(P.jsx)(ee.a,{localizer:Object(ee.b)(re.a),events:e.filter((function(e){return t.includes(e.title)})).map((function(e){return Object(d.a)(Object(d.a)({},e),{},{start:new Date(e.start),end:new Date(e.end)})})),startAccessor:"start",endAccessor:"end",style:{height:500},tooltipAccessor:function(e){return e.tooltip||e.title},eventPropGetter:function(e){return{style:{backgroundColor:e.hexColor,opacity:.8,color:"black",border:e.border}}},onSelectEvent:function(e,t){window.open(e.url,"_blank","noopener")}})})})},ce=(r(133),Object(g.a)((function(e){return Object(E.a)({card:{margin:"1rem"}})}))),oe=function(){var e=ce();return Object(P.jsxs)("div",{className:"Home",children:[Object(P.jsx)(R.a,{className:e.card,children:Object(P.jsxs)(M.a,{children:[Object(P.jsx)("h2",{children:"Performers"}),Object(P.jsx)($,{showCheckbox:!0})]})}),Object(P.jsx)(ne,{})]})},se=function(){return Object(P.jsx)(s.a,{store:p,children:Object(P.jsxs)(l.a,{loading:null,persistor:h,children:[Object(P.jsx)(k,{}),Object(P.jsx)(oe,{})]})})},le=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,171)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,o=t.getTTFB;r(e),a(e),n(e),c(e),o(e)}))};o.a.render(Object(P.jsx)(n.a.StrictMode,{children:Object(P.jsx)(se,{})}),document.getElementById("root")),le()},92:function(e,t,r){}},[[134,1,2]]]);
//# sourceMappingURL=main.5623c711.chunk.js.map